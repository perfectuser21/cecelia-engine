---
id: prd-ci-release-check-fix
version: 1.0.0
created: 2026-01-30
updated: 2026-01-30
changelog:
  - 1.0.0: 初始版本
---

# PRD: Release-check Evidence 生成修复 (Part 2)

## 背景

PR #398 添加了 Generate Evidence 步骤到 release-check job，但该步骤失败。
原因是 generate-evidence.sh 需要 ci/out/checks 目录，该目录由前面的 CI 步骤创建。
release-check job 从 fresh checkout 开始，没有这些步骤的输出。

## 问题分析

1. test job 运行 typecheck/test/build/shell-check，创建 ci/out/checks
2. test job 运行 generate-evidence.sh，读取 ci/out/checks
3. release-check job fresh checkout，没有 ci/out/checks
4. Generate Evidence 步骤失败

## 修复方案

移除 release-check 的 Generate Evidence 步骤，因为：
1. test job 已经验证了 evidence
2. release-check 依赖 test job 通过（needs: [test]）
3. 重复生成 evidence 没有意义

## 验收标准

- [x] release-check job 不再有 Generate Evidence 步骤
- [x] release-check CI 通过
