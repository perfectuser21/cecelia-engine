# DoD - 修复 Skill 调用返回后的行为矛盾

QA: docs/QA-DECISION.md
Audit: docs/AUDIT-REPORT.md

## 验收清单

### 文档修改

- [ ] 修改 `skills/dev/SKILL.md` 的"为什么需要循环？"章节
  - 删除"AI 自然停下来，需要外层循环驱动继续"
  - 改为"循环机制用于 CI 失败重试和完成检测"
  - 说明 Skill 调用返回后 AI 立即继续执行下一步
  Test: manual:M1

- [ ] 澄清 `skills/qa/SKILL.md` 的"完成后行为"章节
  - 删除"立即返回调用方"的误导性表述
  - 改为"生成决策文件 + 简洁输出结果"
  - 说明/dev 流程会自动继续，无需 Skill 做返回动作
  Test: manual:M2

- [ ] 澄清 `skills/audit/SKILL.md` 的"完成后行为"章节
  - 删除"立即返回调用方"的误导性表述
  - 改为"生成审计报告 + 简洁输出结果"
  - 说明/dev 流程会自动继续，无需 Skill 做返回动作
  Test: manual:M3

### 验证不修改

- [ ] 验证 `skills/dev/steps/04-dod.md` 保持不变
  - "不要停顿或等待确认"指令保持
  - "立即继续下一步"指令保持
  Test: manual:M4

- [ ] 验证 `skills/dev/steps/07-quality.md` 保持不变
  - "不要停顿或等待确认"指令保持
  - "立即继续下一步"指令保持
  Test: manual:M5

### 功能验收

- [ ] 执行 `dev-with-loop .prd-test.md`，观察 /qa 和 /audit 返回后是否有停顿
  Test: manual:M6

- [ ] 检查 transcript，确认 Skill 返回后立即有下一步的输出
  Test: manual:M7

- [ ] CI 测试通过
  Test: auto:ci

## 非功能性要求

- 保持文档清晰准确
- 删除矛盾描述
- 统一对 Ralph Loop 作用的理解
