# DoD - Ralph Loop 文档 + 运行时文件清理

## 验收标准

### 1. Ralph Loop 使用文档
- [x] `skills/dev/SKILL.md` 包含 Ralph Loop 使用说明章节
  - Test: manual:file-review
- [x] 说明 P0 阶段使用方式（质检循环）
  - Test: manual:doc-review
- [x] 说明 P1 阶段使用方式（CI 修复循环）
  - Test: manual:doc-review
- [x] 解释 Ralph Loop 与 Stop Hook 配合机制
  - Test: manual:doc-review
- [x] 提供启动命令示例
  - Test: manual:doc-review
- [x] 列出典型使用场景
  - Test: manual:doc-review

### 2. 运行时文件清理
- [x] `.gitignore` 包含所有运行时文件
  - Test: manual:file-check
- [x] 运行时文件已从 git 追踪中移除
  - Test: `git ls-files | grep -E '^\.(prd|dod|quality)'` 无输出
- [x] `cleanup.sh` 清理所有运行时文件
  - Test: manual:code-review

### 3. 测试修复
- [x] `detect-priority.cjs` 支持 SKIP_GIT_DETECTION
  - Test: manual:code-review
- [x] 测试中设置该环境变量
  - Test: tests/hooks/pr-gate-phase1.test.ts:257
- [x] 所有测试通过
  - Test: `npm run test` (186/186)

### 4. 质量检查
- [x] typecheck 通过
  - Test: `npm run typecheck`
- [x] build 通过
  - Test: `npm run build`
- [x] 审计通过
  - Test: docs/AUDIT-REPORT.md (Decision: PASS)

### 5. 文档完整性
- [x] CHANGELOG.md 无需更新（不增加新功能，只是文档和修复）
- [x] .prd.md 存在且完整（本文件）
  - Test: manual:file-exists
- [x] .dod.md 存在且完整
  - Test: manual:file-exists

### 6. CI 验证
- [ ] CI 通过
  - Test: manual:ci-screenshot
- [ ] PR 合并
  - Test: manual:pr-merged

## QA 决策

参考: docs/QA-DECISION.md
