# DoD - 修复 Workflow 误触发问题

QA: docs/QA-DECISION.md

## 验收标准

### 功能验收
- [ ] back-merge-main-to-develop.yml 添加 check-trigger guard job
      Test: manual:查看 .github/workflows/back-merge-main-to-develop.yml 包含 check-trigger job
- [ ] back-merge guard job 检查 event_name == "push" && ref_name == "main"
      Test: manual:验证 guard job 的 bash 脚本逻辑
- [ ] back-merge 其他 jobs 依赖 guard job 且使用 if 条件
      Test: manual:验证 back-merge job 的 needs 和 if 字段
- [ ] nightly.yml 添加 check-trigger guard job
      Test: manual:查看 .github/workflows/nightly.yml 包含 check-trigger job
- [ ] nightly guard job 检查 event_name != "push"
      Test: manual:验证 guard job 的 bash 脚本逻辑
- [ ] nightly 其他 jobs 依赖 guard job 且使用 if 条件
      Test: manual:验证 regression job 的 needs 和 if 字段
- [ ] Push 到非 main 分支后，back-merge workflow 跳过（不失败）
      Test: manual:查看 CI runs，验证 develop/feature 分支 push 后 back-merge 跳过
- [ ] Push 任何分支后，nightly workflow 跳过（不失败）
      Test: manual:查看 CI runs，验证 push 事件后 nightly 跳过

### 测试验收
- [ ] npm run qa 通过
      Test: contract:C2-001
