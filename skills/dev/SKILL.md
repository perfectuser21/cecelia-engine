---
name: dev
description: |
  ç»Ÿä¸€å¼€å‘å·¥ä½œæµå…¥å£ã€‚ä¸€ä¸ªå¯¹è¯å®Œæˆæ•´ä¸ªå¼€å‘æµç¨‹ã€‚

  è§¦å‘æ¡ä»¶ï¼š
  - ç”¨æˆ·è¯´ä»»ä½•å¼€å‘ç›¸å…³çš„éœ€æ±‚
  - ç”¨æˆ·è¯´ /dev
  - Hook è¾“å‡º [SKILL_REQUIRED: dev]
---

# /dev - ç»Ÿä¸€å¼€å‘å·¥ä½œæµ

## 11 æ­¥æµç¨‹

| Step | å†…å®¹ | è¯¦æƒ… |
|------|------|------|
| 1 | PRD ç¡®å®š | â†’ [01-prd.md](steps/01-prd.md) |
| 2 | æ£€æµ‹é¡¹ç›®ç¯å¢ƒ | â†’ [02-detect.md](steps/02-detect.md) |
| 3 | åˆ›å»ºåˆ†æ”¯ | â†’ [03-branch.md](steps/03-branch.md) |
| 4 | æ¨æ¼” DoD | â†’ [04-dod.md](steps/04-dod.md) |
| 5 | å†™ä»£ç  | â†’ [05-code.md](steps/05-code.md) |
| 6 | å†™æµ‹è¯• | â†’ [06-test.md](steps/06-test.md) |
| 7 | è´¨æ£€ï¼ˆä¸‰å±‚ï¼‰| â†’ [07-quality.md](steps/07-quality.md) |
| 8 | æäº¤ PR | â†’ [08-pr.md](steps/08-pr.md) |
| 9 | CI | â†’ [09-ci.md](steps/09-ci.md) |
| 10 | Learning | â†’ [10-learning.md](steps/10-learning.md) |
| 11 | Cleanup | â†’ [11-cleanup.md](steps/11-cleanup.md) |

---

## æµç¨‹å›¾ï¼ˆä¸€ä¸ªå¯¹è¯å®Œæˆï¼‰

```
/dev å¼€å§‹
    â”‚
    â”œâ”€â”€ æœ‰å¤´ï¼šç”¨æˆ·è¯´éœ€æ±‚ â†’ Step 1 PRD ç¡®å®š
    â”‚                           â”‚
    â””â”€â”€ æ— å¤´ï¼šHook è§¦å‘ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                        Step 2: æ£€æµ‹é¡¹ç›®ç¯å¢ƒ
                                â”‚
                                â–¼
                        Step 3: åˆ›å»ºåˆ†æ”¯
                                â”‚
                                â–¼
                        Step 4: æ¨æ¼” DoDï¼ˆä¸åœé¡¿ï¼Œç»§ç»­ï¼‰
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Loop: Step 5-7                                   â”‚
â”‚                                                   â”‚
â”‚  Step 5: å†™ä»£ç                                    â”‚
â”‚      â†“                                            â”‚
â”‚  Step 6: å†™æµ‹è¯•                                   â”‚
â”‚      â”‚                                            â”‚
â”‚      â”œâ”€â”€ å¤±è´¥ â†’ ç»§ç»­ Step 6                       â”‚
â”‚      â”‚                                            â”‚
â”‚      â””â”€â”€ é€šè¿‡ â†“                                   â”‚
â”‚                                                   â”‚
â”‚  Step 7: è´¨æ£€ï¼ˆä¸‰å±‚ï¼‰                             â”‚
â”‚      â”‚                                            â”‚
â”‚      â”œâ”€â”€ å¤±è´¥ â†’ è¿”å› Step 4ï¼ˆä» Step 5 é‡æ–°å¼€å§‹ï¼‰â”‚
â”‚      â”‚                                            â”‚
â”‚      â””â”€â”€ é€šè¿‡ â†“                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Step 8: æäº¤ PR
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Loop: Step 9                                     â”‚
â”‚                                                   â”‚
â”‚  Step 9: CI                                       â”‚
â”‚      â”‚                                            â”‚
â”‚      â”œâ”€â”€ å¤±è´¥ â†’ è¿”å› Step 4ï¼ˆä» Step 5 é‡æ–°å¼€å§‹ï¼‰â”‚
â”‚      â”‚                                            â”‚
â”‚      â””â”€â”€ é€šè¿‡ â†“                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
Step 10: Learningï¼ˆå¿…é¡»ï¼‰
    â”‚
    â–¼
Step 11: Cleanup
    â”‚
    â–¼
å®Œæˆ ğŸ‰
```

**å…³é”®**ï¼š
- æœ‰å¤´/æ— å¤´ä¸¤ä¸ªå…¥å£ä¸€æ¡çº¿
- Step 1 PRD ç¡®å®šåä¸åœé¡¿ï¼Œç›´åˆ° Step 4 DoD
- å¤±è´¥è¿”å›é€»è¾‘ï¼š
  - Step 6 å†™æµ‹è¯•å¤±è´¥ â†’ ç»§ç»­ Step 6
  - Step 7 è´¨æ£€å¤±è´¥ â†’ è¿”å› Step 4ï¼ˆä» Step 5 é‡æ–°å¼€å§‹ï¼Œ5â†’6â†’7 å¾ªç¯ï¼‰
  - Step 8 PR è¢« Hook æ‹¦æˆª â†’ è¿”å› Step 4ï¼ˆHook ä¼šæ£€æŸ¥è´¨æ£€æŠ¥å‘Šå’Œæµç¨‹çŠ¶æ€ï¼‰
  - Step 9 CI çº¢ â†’ è¿”å› Step 4ï¼ˆä» Step 5 é‡æ–°å¼€å§‹ï¼Œ5â†’6â†’7 å¾ªç¯ï¼‰
- Step 10 Learning æ˜¯å¿…é¡»çš„
- æ•´ä¸ªæµç¨‹åœ¨ä¸€ä¸ªå¯¹è¯ä¸­å®Œæˆï¼Œå¤±è´¥æ—¶è‡ªåŠ¨å¾ªç¯ï¼Œä¸æ–­å¼€

---

## æ ¸å¿ƒè§„åˆ™

1. **åªåœ¨ cp-* æˆ– feature/* åˆ†æ”¯å†™ä»£ç ** - Hook å¼•å¯¼
2. **æ­¥éª¤çŠ¶æ€æœº** - Hook æ£€æŸ¥ `git config branch.*.step`ï¼Œstep >= 4 æ‰èƒ½å†™ä»£ç 
3. **develop æ˜¯ä¸»å¼€å‘çº¿** - PR åˆå¹¶å› develop
4. **main å§‹ç»ˆç¨³å®š** - åªåœ¨é‡Œç¨‹ç¢‘æ—¶ä» develop åˆå¹¶
5. **CI æ˜¯å”¯ä¸€å¼ºåˆ¶æ£€æŸ¥** - å…¶ä»–éƒ½æ˜¯å¼•å¯¼

---

## æ­¥éª¤çŠ¶æ€æœº

ç”¨ `git config branch.cp-xxx.step` è¿½è¸ªå½“å‰æ­¥éª¤ï¼š

| step | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| 1 | PRD ç¡®å®š | éœ€æ±‚æ˜ç¡® |
| 2 | é¡¹ç›®ç¯å¢ƒæ£€æµ‹å®Œæˆ | .project-info.json ç”Ÿæˆ |
| 3 | åˆ†æ”¯å·²åˆ›å»º | cp-* æˆ– feature/* åˆ†æ”¯ |
| 4 | DoD å®Œæˆ | DoD æ¨æ¼”å®Œæˆï¼Œ**å¯ä»¥å†™ä»£ç ** |
| 5 | ä»£ç å®Œæˆ | åŠŸèƒ½ä»£ç å†™å®Œ |
| 6 | æµ‹è¯•å®Œæˆ | æµ‹è¯•ä»£ç å†™å®Œ |
| 7 | è´¨æ£€é€šè¿‡ | ä¸‰å±‚è´¨æ£€é€šè¿‡ï¼Œ**å¯ä»¥æäº¤** |
| 8 | PR å·²åˆ›å»º | ç­‰å¾… CI |
| 9 | CI é€šè¿‡ | CI æ£€æŸ¥å®Œæˆ |
| 10 | Learning å®Œæˆ | ç»éªŒå·²è®°å½• |
| 11 | å·²æ¸…ç† | åˆ†æ”¯åˆ é™¤ |

### Hook å¼•å¯¼

**branch-protect.sh** (PreToolUse - Write/Edit):
- å¼•å¯¼ step >= 4 æ‰èƒ½å†™ä»£ç 
- å¼•å¯¼åªåœ¨ cp-* æˆ– feature/* åˆ†æ”¯å†™ä»£ç 

**pr-gate.sh** (PreToolUse - Bash):
- æ‹¦æˆª `gh pr create`ï¼Œè¿è¡Œè´¨æ£€
- å¤±è´¥æ—¶å›é€€åˆ° step 4ï¼Œå¼•å¯¼ä¿®å¤åé‡è¯•

**stop-gate.sh** (Stop):
- é€€å‡ºæ—¶æ£€æŸ¥ä»»åŠ¡å®Œæˆåº¦
- æ˜¾ç¤ºè¿›åº¦å»ºè®®

**project-detect.sh** (PostToolUse - Bash):
- æ£€æµ‹é¡¹ç›®åˆå§‹åŒ–çŠ¶æ€
- ç”Ÿæˆ .project-info.json

**session-init.sh** (SessionStart):
- ä¼šè¯åˆå§‹åŒ–ï¼Œæ¢å¤ä¸Šä¸‹æ–‡
- è¯»å–å·²ä¿å­˜çš„æ­¥éª¤çŠ¶æ€

**æ³¨æ„**ï¼šæ‰€æœ‰ Hook éƒ½æ˜¯å¼•å¯¼æ€§çš„ï¼ŒCI æ˜¯å”¯ä¸€å¼ºåˆ¶æ£€æŸ¥ã€‚

---

## å¿«é€Ÿä¿®å¤æ¨¡å¼

**é€‚ç”¨æ¡ä»¶**ï¼ˆå…¨éƒ¨æ»¡è¶³ï¼‰ï¼š
- `fix:` ç±»å‹ä¿®å¤
- å•æ–‡ä»¶æˆ–å°‘é‡æ”¹åŠ¨
- éœ€æ±‚æ˜ç¡®

**å¯ç®€åŒ–**ï¼šStep 1 PRD ç¡®å®šå¯ä»¥å¿«é€Ÿå®Œæˆ

---

## ç‰ˆæœ¬å·è§„åˆ™ (semver)

| commit ç±»å‹ | ç‰ˆæœ¬å˜åŒ– |
|-------------|----------|
| fix: | patch (+0.0.1) |
| feat: | minor (+0.1.0) |
| feat!: / BREAKING: | major (+1.0.0) |

---

## åŠ è½½ç­–ç•¥

```
skills/dev/
â”œâ”€â”€ SKILL.md        â† ä½ åœ¨è¿™é‡Œï¼ˆå…¥å£ï¼‰
â”œâ”€â”€ steps/          â† æ¯æ­¥ä¸€ä¸ªæ–‡ä»¶
â”‚   â”œâ”€â”€ 01-prd.md
â”‚   â”œâ”€â”€ 02-detect.md
â”‚   â”œâ”€â”€ 03-branch.md
â”‚   â”œâ”€â”€ 04-dod.md
â”‚   â”œâ”€â”€ 05-code.md
â”‚   â”œâ”€â”€ 06-test.md
â”‚   â”œâ”€â”€ 07-quality.md
â”‚   â”œâ”€â”€ 08-pr.md
â”‚   â”œâ”€â”€ 09-ci.md
â”‚   â”œâ”€â”€ 10-learning.md
â”‚   â””â”€â”€ 11-cleanup.md
â””â”€â”€ scripts/        â† è¾…åŠ©è„šæœ¬
    â”œâ”€â”€ cleanup.sh
    â”œâ”€â”€ check.sh
    â”œâ”€â”€ wait-for-merge.sh
    â”œâ”€â”€ scan-change-level.sh
    â””â”€â”€ multi-feature.sh
```

**æ‰§è¡Œæ—¶æŒ‰éœ€åŠ è½½å¯¹åº”æ­¥éª¤æ–‡ä»¶ï¼Œå‡å°‘ä¸Šä¸‹æ–‡å¼€é”€ã€‚**

---

## å®Œæˆåº¦æ£€æŸ¥

**Cleanup åè¿è¡Œ**ï¼š

```bash
bash skills/dev/scripts/check.sh "$BRANCH_NAME" "$BASE_BRANCH"
```
