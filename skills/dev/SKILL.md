---
name: dev
version: 2.1.0
updated: 2026-01-27
description: |
  ç»Ÿä¸€å¼€å‘å·¥ä½œæµå…¥å£ï¼ˆå¿…é¡»åœ¨ Ralph Loop å†…è°ƒç”¨ï¼‰ã€‚

  âš ï¸  ä¸è¦ç›´æ¥è°ƒç”¨ /devï¼Œä½¿ç”¨ dev-with-loop æˆ–æ‰‹åŠ¨åŒ…è£…ã€‚

  è§¦å‘æ¡ä»¶ï¼š
  - ç”¨æˆ·è°ƒç”¨: dev-with-loop .prd.md
  - æˆ–æ‰‹åŠ¨: /ralph-loop "/dev .prd.md" --completion-promise "DONE"
  - Hook è¾“å‡º [SKILL_REQUIRED: dev]

  v2.1.0 å˜æ›´ï¼š
  - Ralph Loop æ”¹ä¸ºç”¨æˆ·è°ƒç”¨ï¼ˆä¸å†ç”± AI å†…éƒ¨è°ƒç”¨ï¼‰
  - ç®€åŒ– /dev èŒè´£ï¼šåªè´Ÿè´£æµç¨‹ç¼–æ’
  - åˆ é™¤å†…éƒ¨ Ralph Loop è°ƒç”¨é€»è¾‘
---

# /dev - ç»Ÿä¸€å¼€å‘å·¥ä½œæµï¼ˆv2.1ï¼‰

## âš ï¸  ä½¿ç”¨è­¦å‘Šï¼ˆCRITICALï¼‰

**ä¸è¦ç›´æ¥è°ƒç”¨ /dev**ï¼Œå› ä¸ºç¼ºå°‘è‡ªåŠ¨å¾ªç¯æœºåˆ¶ä¼šå¯¼è‡´Step 4/7 åœé¡¿ã€‚

### æ­£ç¡®ç”¨æ³•

```bash
# æ–¹å¼ 1ï¼šä½¿ç”¨ä¾¿æ·å‘½ä»¤ï¼ˆæ¨èï¼‰
dev-with-loop .prd-xxx.md

# æ–¹å¼ 2ï¼šæ‰‹åŠ¨åŒ…è£… Ralph Loop
/ralph-loop "/dev .prd-xxx.md" --completion-promise "DONE" --max-iterations 20
```

### ä¸ºä»€ä¹ˆéœ€è¦ Ralph Loopï¼Ÿ

```
/dev æ‰§è¡Œæ­¥éª¤ï¼š
  Step 4: è°ƒç”¨ /qa â†’ è¿”å›
  Step 7: è°ƒç”¨ /audit â†’ è¿”å›

é—®é¢˜ï¼š
  /qa å’Œ /audit æŒ‰è§„èŒƒä¸è¾“å‡ºæ€»ç»“å°±è¿”å›
  AI è‡ªç„¶åœä¸‹æ¥ï¼Œéœ€è¦å¤–å±‚å¾ªç¯é©±åŠ¨ç»§ç»­

è§£å†³ï¼š
  Ralph Loop æä¾›å¤–å±‚å¾ªç¯
  æ£€æµ‹åˆ°æ²¡æœ‰ <promise> â†’ è‡ªåŠ¨ç»§ç»­
```

---

## æ ¸å¿ƒå®šä½

**æµç¨‹ç¼–æ’è€…**ï¼ˆä¸è´Ÿè´£å¾ªç¯é‡è¯•ï¼‰ï¼š
- é˜¶æ®µæ£€æµ‹ â†’ `scripts/detect-phase.sh`
- è´¨æ£€å¼ºåˆ¶ â†’ `hooks/stop.sh` (Stop Hook)
- æ”¾è¡Œåˆ¤æ–­ â†’ `hooks/pr-gate-v2.sh` (PreToolUse:Bash)
- å¾ªç¯é©±åŠ¨ â†’ Ralph Loopï¼ˆå¤–éƒ¨è°ƒç”¨ï¼‰

åˆ¤æ–­ç”±ä¸“é—¨çš„è§„èŒƒè´Ÿè´£ï¼š
- æµ‹è¯•å†³ç­– â†’ å‚è€ƒ `skills/qa/SKILL.md`
- ä»£ç å®¡è®¡ â†’ å‚è€ƒ `skills/audit/SKILL.md`

**èŒè´£åˆ†ç¦»**ï¼š
```
ç”¨æˆ· â†’ Ralph Loopï¼ˆå¾ªç¯æ¡†æ¶ï¼‰
         â†“
       /devï¼ˆæµç¨‹ç¼–æ’ï¼‰
         â†“
       Step 1-8ï¼ˆå…·ä½“æ­¥éª¤ï¼‰
```

---

## Ralph Loop å®Œæˆæ¡ä»¶æ£€æŸ¥ï¼ˆAI èŒè´£ï¼‰

**AI åœ¨æ¯æ¬¡ Ralph Loop è¿­ä»£ç»“æŸæ—¶ï¼Œå¿…é¡»æ£€æŸ¥å®Œæˆæ¡ä»¶å¹¶å†³å®šæ˜¯å¦è¾“å‡º promiseã€‚**

### p0 é˜¶æ®µå®Œæˆæ¡ä»¶

```
1. Audit æŠ¥å‘Šå­˜åœ¨ï¼Ÿ(docs/AUDIT-REPORT.md)
   âŒ â†’ è°ƒç”¨ /audit â†’ ä¸è¾“å‡º promise â†’ ç»§ç»­

2. Audit Decision: PASSï¼Ÿ
   âŒ â†’ ä¿®å¤ L1/L2 é—®é¢˜ â†’ ä¸è¾“å‡º promise â†’ ç»§ç»­

3. .quality-gate-passed å­˜åœ¨ä¸”æœ‰æ•ˆï¼Ÿ
   âŒ â†’ è¿è¡Œ npm run qa:gate â†’ ä¸è¾“å‡º promise â†’ ç»§ç»­

4. PR å·²åˆ›å»ºï¼Ÿ
   âŒ â†’ åˆ›å»º PR (gh pr create) â†’ ä¸è¾“å‡º promise â†’ ç»§ç»­

âœ… å…¨éƒ¨æ»¡è¶³ â†’ è¾“å‡º <promise>DONE</promise> â†’ Ralph Loop ç»“æŸ
```

### p1 é˜¶æ®µå®Œæˆæ¡ä»¶

```
1. è´¨æ£€ä»ç„¶æœ‰æ•ˆï¼Ÿï¼ˆä»£ç ä¿®æ”¹åéœ€è¦é‡æ–°è´¨æ£€ï¼‰
   âŒ â†’ è¿è¡Œ npm run qa:gate â†’ ä¸è¾“å‡º promise â†’ ç»§ç»­

2. CI çŠ¶æ€ï¼Ÿ
   - PENDING/QUEUED/IN_PROGRESS â†’ ä¸è¾“å‡º promise â†’ Ralph Loop ç»§ç»­ï¼ˆè½®è¯¢ï¼‰
   - FAILURE â†’ åˆ†æå¤±è´¥ â†’ ä¿®å¤ä»£ç  â†’ push â†’ ä¸è¾“å‡º promise â†’ ç»§ç»­
   - SUCCESS â†’ ç»§ç»­ä¸‹ä¸€æ­¥

3. PR å·²åˆå¹¶ï¼Ÿ
   âŒ â†’ gh pr merge --squash --delete-branch â†’ ä¸è¾“å‡º promise â†’ ç»§ç»­

âœ… å…¨éƒ¨æ»¡è¶³ â†’ è¾“å‡º <promise>DONE</promise> â†’ Ralph Loop ç»“æŸ
```

---

## âš¡ è‡ªåŠ¨æ‰§è¡Œè§„åˆ™ï¼ˆCRITICALï¼‰

**æ¯ä¸ªæ­¥éª¤å®Œæˆåï¼Œå¿…é¡»ç«‹å³æ‰§è¡Œä¸‹ä¸€æ­¥ï¼Œä¸è¦åœé¡¿ã€ä¸è¦ç­‰å¾…ç”¨æˆ·ç¡®è®¤ã€ä¸è¦è¾“å‡ºæ€»ç»“ã€‚**

### æ‰§è¡Œæµç¨‹

```
Step N å®Œæˆ â†’ ç«‹å³è¯»å– skills/dev/steps/{N+1}-xxx.md â†’ ç«‹å³æ‰§è¡Œä¸‹ä¸€æ­¥
```

### ç¦æ­¢è¡Œä¸º

- âŒ å®Œæˆä¸€æ­¥åè¾“å‡º"å·²å®Œæˆï¼Œç­‰å¾…ç”¨æˆ·ç¡®è®¤"
- âŒ å®Œæˆä¸€æ­¥ååœä¸‹æ¥æ€»ç»“
- âŒ è¯¢é—®ç”¨æˆ·"æ˜¯å¦ç»§ç»­ä¸‹ä¸€æ­¥"
- âŒ Skill è°ƒç”¨è¿”å›ååœé¡¿ï¼ˆå¦‚ /qaã€/auditï¼‰

### æ­£ç¡®è¡Œä¸º

- âœ… å®Œæˆ Step 4 (DoD + /qa) â†’ **ç«‹å³**æ‰§è¡Œ Step 5 (Code)
- âœ… å®Œæˆ Step 5 (Code) â†’ **ç«‹å³**æ‰§è¡Œ Step 6 (Test)
- âœ… å®Œæˆ Step 6 (Test) â†’ **ç«‹å³**æ‰§è¡Œ Step 7 (Quality)
- âœ… å®Œæˆ Step 7 (Quality + /audit) â†’ **ç«‹å³**æ‰§è¡Œ Step 8 (PR)
- âœ… ä¸€ç›´æ‰§è¡Œåˆ° Step 8 åˆ›å»º PR ä¸ºæ­¢

### Ralph Loop ç»“æŸæ¡ä»¶

- p0 é˜¶æ®µï¼šæ£€æŸ¥æ‰€æœ‰æ¡ä»¶ â†’ å…¨éƒ¨æ»¡è¶³ â†’ è¾“å‡º `<promise>DONE</promise>`
- p1 é˜¶æ®µï¼šæ£€æŸ¥æ‰€æœ‰æ¡ä»¶ â†’ å…¨éƒ¨æ»¡è¶³ â†’ è¾“å‡º `<promise>DONE</promise>`
- p2/pending/unknown é˜¶æ®µï¼šä¸å¯åŠ¨ Ralph Loopï¼Œç›´æ¥é€€å‡º

### ç‰¹åˆ«æ³¨æ„ï¼šSkill è°ƒç”¨åå¿…é¡»ç»§ç»­

å½“è°ƒç”¨ `/qa` æˆ– `/audit` Skill åï¼š
1. **ä¸è¦**è¾“å‡º"QA å†³ç­–å·²ç”Ÿæˆï¼ç°åœ¨è¿”å› /dev æµç¨‹ç»§ç»­æ‰§è¡Œ..."
2. **ä¸è¦**åœä¸‹æ¥ç­‰å¾…
3. **ç«‹å³**è¯»å–ä¸‹ä¸€æ­¥çš„ steps æ–‡ä»¶å¹¶æ‰§è¡Œ

---

## å…¥å£ï¼šé˜¶æ®µæ£€æµ‹ï¼ˆä¸¤é˜¶æ®µï¼‰

**è¿›å…¥ /dev åï¼Œé¦–å…ˆè¿è¡Œé˜¶æ®µæ£€æµ‹**ï¼š

```bash
# è¿è¡Œé˜¶æ®µæ£€æµ‹
bash scripts/detect-phase.sh

# è¾“å‡ºæ ¼å¼
# PHASE: p0 / p1 / p2 / pending / unknown
# DESCRIPTION: ...
# ACTION: ...
```

### é˜¶æ®µå®šä¹‰

| é˜¶æ®µ | æ¡ä»¶ | ç›®æ ‡ | ç­–ç•¥ |
|------|------|------|------|
| **p0** | æ—  PR | å‘ PR | è´¨æ£€å¾ªç¯ â†’ åˆ›å»º PR â†’ ç»“æŸï¼ˆä¸ç­‰ CIï¼‰|
| **p1** | PR + CI fail | ä¿®åˆ° CI ç»¿ | è½®è¯¢å¾ªç¯ï¼šæ£€æŸ¥ CI â†’ å¤±è´¥åˆ™ä¿®å¤å¹¶ç»§ç»­ â†’ æˆåŠŸåˆ™åˆå¹¶ |
| **p2** | PR + CI pass | ä¸ä»‹å…¥ | ç›´æ¥é€€å‡ºï¼ˆGitHub è‡ªåŠ¨ mergeï¼‰|
| **pending** | PR + CI pending | - | ç›´æ¥é€€å‡ºï¼ˆç¨åå†æŸ¥ï¼‰|
| **unknown** | gh API é”™è¯¯ | - | ç›´æ¥é€€å‡ºï¼ˆä¸è¯¯åˆ¤ï¼‰|

**è¯¦ç»†æ–‡æ¡£**: `docs/PHASE-DETECTION.md`

---

## æµç¨‹èŠ‚ç‚¹ï¼ˆä¸¤é˜¶æ®µåˆ†ç¦»ï¼‰

### p0 é˜¶æ®µï¼šPublishedï¼ˆå‘ PR ä¹‹å‰ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 p0: Published é˜¶æ®µ                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  é˜¶æ®µæ£€æµ‹ (scripts/detect-phase.sh)                     â”‚
â”‚      â†’ PHASE: p0                                        â”‚
â”‚      â†“                                                  â”‚
â”‚  PRD ç¡®å®š (01-prd.md)                                   â”‚
â”‚      â†“                                                  â”‚
â”‚  ç¯å¢ƒæ£€æµ‹ (02-detect.md)                                â”‚
â”‚      â†“                                                  â”‚
â”‚  åˆ†æ”¯åˆ›å»º (03-branch.md)                                â”‚
â”‚      â†“                                                  â”‚
â”‚  DoD å®šç¨¿ (04-dod.md)                                   â”‚
â”‚      â”‚   å« QA Decision Node                            â”‚
â”‚      â”‚   äº§ç‰©: docs/QA-DECISION.md                      â”‚
â”‚      â†“                                                  â”‚
â”‚  å†™ä»£ç  + å†™æµ‹è¯• (05-code.md, 06-test.md)               â”‚
â”‚      â†“                                                  â”‚
â”‚  è´¨æ£€å¾ªç¯ (07-quality.md) â† Stop Hook å¼ºåˆ¶              â”‚
â”‚      â”‚   L2A: Audit (Decision: PASS)                    â”‚
â”‚      â”‚   L1: npm run qa:gate                            â”‚
â”‚      â”‚   å¤±è´¥ â†’ ä¿®å¤ â†’ é‡è¯•ï¼ˆè´¨æ£€å¾ªç¯ï¼‰                 â”‚
â”‚      â†“                                                  â”‚
â”‚  æäº¤ PR (08-pr.md)                                     â”‚
â”‚      â†“                                                  â”‚
â”‚  æ£€æŸ¥ p0 å®Œæˆæ¡ä»¶                                        â”‚
â”‚      â”œâ”€ å…¨éƒ¨æ»¡è¶³ â†’ è¾“å‡º <promise>QUALITY_GATE_PASSED</promise> â”‚
â”‚      â””â”€ Ralph Loop ç»“æŸ âœ…                              â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### p1 é˜¶æ®µï¼šCI fail ä¿®å¤ï¼ˆè½®è¯¢å¾ªç¯ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            p1: CI fail ä¿®å¤ï¼ˆè½®è¯¢å¾ªç¯ï¼‰                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  é˜¶æ®µæ£€æµ‹ (scripts/detect-phase.sh)                     â”‚
â”‚      â†’ PHASE: p1                                        â”‚
â”‚      â†“                                                  â”‚
â”‚  Ralph Loop å¾ªç¯æ£€æŸ¥ (09-ci.md)                         â”‚
â”‚      â”‚                                                  â”‚
â”‚      â”‚   æ£€æŸ¥ p1 å®Œæˆæ¡ä»¶ï¼š                             â”‚
â”‚      â”‚   1. è´¨æ£€æœ‰æ•ˆï¼Ÿ                                  â”‚
â”‚      â”‚   2. CI çŠ¶æ€ï¼Ÿ(pendingâ†’ç­‰å¾…/failâ†’ä¿®å¤/successâ†’ä¸‹ä¸€æ­¥) â”‚
â”‚      â”‚   3. PR å·²åˆå¹¶ï¼Ÿ                                 â”‚
â”‚      â”‚                                                  â”‚
â”‚      â”‚   æ¡ä»¶æœªæ»¡è¶³ â†’ ä¸è¾“å‡º promise â†’ Ralph Loop ç»§ç»­  â”‚
â”‚      â”‚   å…¨éƒ¨æ»¡è¶³ â†’ è¾“å‡º <promise>CI_PASSED</promise>   â”‚
â”‚      â””â”€ Ralph Loop ç»“æŸ âœ…                              â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### p2 é˜¶æ®µï¼šCI passï¼ˆå·²å®Œæˆï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    p2: CI pass                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é˜¶æ®µæ£€æµ‹ â†’ PHASE: p2                                   â”‚
â”‚  ä»»åŠ¡å·²å®Œæˆï¼Œç›´æ¥é€€å‡º âœ…                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### pending é˜¶æ®µï¼šç­‰å¾… CI ç»“æœ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              pending: ç­‰å¾… CI ç»“æœ                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  é˜¶æ®µæ£€æµ‹ (scripts/detect-phase.sh)                     â”‚
â”‚      â†’ PHASE: pending                                   â”‚
â”‚      â†“                                                  â”‚
â”‚  Ralph Loop ç­‰å¾… CI å®Œæˆ                                 â”‚
â”‚      â”‚                                                  â”‚
â”‚      â”‚   æ£€æŸ¥ CI çŠ¶æ€ï¼š                                 â”‚
â”‚      â”‚   - pending/queued â†’ ä¸è¾“å‡º promise â†’ ç»§ç»­ç­‰å¾…   â”‚
â”‚      â”‚   - failure â†’ è½¬å…¥ p1 ä¿®å¤                       â”‚
â”‚      â”‚   - success â†’ è½¬å…¥ p2 å®Œæˆ                       â”‚
â”‚      â†“                                                  â”‚
â”‚  æ ¹æ® CI ç»“æœè½¬å…¥å¯¹åº”é˜¶æ®µ                                â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### unknownï¼šAPI é”™è¯¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    unknown                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  unknown: gh API é”™è¯¯ â†’ ç›´æ¥é€€å‡ºï¼ˆä¸è¯¯åˆ¤ï¼‰              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ ¸å¿ƒè§„åˆ™ï¼ˆv2.0ï¼‰

### 1. ä¸¤é˜¶æ®µåˆ†ç¦» + Ralph Loop âœ…

```
p0: å‘ PR â†’ Ralph Loop æ£€æŸ¥æ¡ä»¶ â†’ è¾“å‡º promise â†’ ç»“æŸ
p1: Ralph Loop å¾ªç¯ â†’ ä¿®å¤ CI â†’ åˆå¹¶ PR â†’ è¾“å‡º promise â†’ ç»“æŸ
p2: ä»»åŠ¡å·²å®Œæˆï¼Œç›´æ¥é€€å‡º
```

### 2. Stop Hook é…åˆ Ralph Loop âœ…

```
p0: æ¡ä»¶æœªæ»¡è¶³ â†’ ä¸è¾“å‡º promise â†’ Ralph Loop ç»§ç»­
p1: CI fail/pending â†’ ä¸è¾“å‡º promise â†’ Ralph Loop ç»§ç»­
    CI success + åˆå¹¶å®Œæˆ â†’ è¾“å‡º promise â†’ Ralph Loop ç»“æŸ
```

### 3. åˆ†æ”¯ç­–ç•¥

1. **åªåœ¨ cp-* æˆ– feature/* åˆ†æ”¯å†™ä»£ç ** - Hook å¼ºåˆ¶
2. **develop æ˜¯ä¸»å¼€å‘çº¿** - PR åˆå¹¶å› develop
3. **main å§‹ç»ˆç¨³å®š** - åªåœ¨é‡Œç¨‹ç¢‘æ—¶ä» develop åˆå¹¶

### 4. äº§ç‰©é—¨æ§

- QA-DECISION.mdï¼ˆStep 4 ç”Ÿæˆï¼‰
- AUDIT-REPORT.mdï¼ˆStep 7 ç”Ÿæˆï¼ŒDecision: PASSï¼‰
- .quality-gate-passedï¼ˆStep 7 ç”Ÿæˆï¼Œæµ‹è¯•é€šè¿‡ï¼‰

---

## ç‰ˆæœ¬å·è§„åˆ™ (semver)

| commit ç±»å‹ | ç‰ˆæœ¬å˜åŒ– |
|-------------|----------|
| fix: | patch (+0.0.1) |
| feat: | minor (+0.1.0) |
| feat!: / BREAKING: | major (+1.0.0) |

---

## åŠ è½½ç­–ç•¥

```
skills/dev/
â”œâ”€â”€ SKILL.md        â† ä½ åœ¨è¿™é‡Œï¼ˆå…¥å£ + æµç¨‹æ€»è§ˆï¼‰
â”œâ”€â”€ steps/          â† æ¯æ­¥è¯¦æƒ…ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰
â”‚   â”œâ”€â”€ 01-prd.md
â”‚   â”œâ”€â”€ 02-detect.md
â”‚   â”œâ”€â”€ 03-branch.md
â”‚   â”œâ”€â”€ 04-dod.md       â† QA Decision Node
â”‚   â”œâ”€â”€ 05-code.md
â”‚   â”œâ”€â”€ 06-test.md
â”‚   â”œâ”€â”€ 07-quality.md   â† Audit Node
â”‚   â”œâ”€â”€ 08-pr.md
â”‚   â”œâ”€â”€ 09-ci.md
â”‚   â”œâ”€â”€ 10-learning.md
â”‚   â””â”€â”€ 11-cleanup.md
â””â”€â”€ scripts/        â† è¾…åŠ©è„šæœ¬
    â”œâ”€â”€ cleanup.sh
    â”œâ”€â”€ check.sh
    â””â”€â”€ ...
```

---

## äº§ç‰©æ£€æŸ¥æ¸…å•

| äº§ç‰© | ä½ç½® | è§„èŒƒæ¥æº | Gate æ£€æŸ¥ |
|------|------|----------|-----------|
| PRD | .prd.md | - | âœ… å­˜åœ¨ + å†…å®¹æœ‰æ•ˆ |
| QA å†³ç­– | docs/QA-DECISION.md | skills/qa/SKILL.md | âœ… å­˜åœ¨ |
| DoD | .dod.md | - | âœ… å­˜åœ¨ + å¼•ç”¨ QA å†³ç­– |
| å®¡è®¡æŠ¥å‘Š | docs/AUDIT-REPORT.md | skills/audit/SKILL.md | âœ… å­˜åœ¨ + PASS |

---

## çŠ¶æ€è¿½è¸ªï¼ˆCore/Notion åŒæ­¥ï¼‰

æœ‰å¤´å’Œæ— å¤´æ¨¡å¼å…±ç”¨åŒä¸€å¥—è¿½è¸ªæœºåˆ¶ï¼Œåœ¨å…³é”®ç‚¹è°ƒç”¨ `track.sh`ï¼š

```bash
# æ–°ä»»åŠ¡å¼€å§‹æ—¶
bash skills/dev/scripts/track.sh start "$(basename "$(pwd)")" "$(git rev-parse --abbrev-ref HEAD)" ".prd.md"

# æ¯ä¸ªæ­¥éª¤
bash skills/dev/scripts/track.sh step 1 "PRD"
bash skills/dev/scripts/track.sh step 2 "Detect"
bash skills/dev/scripts/track.sh step 3 "Branch"
bash skills/dev/scripts/track.sh step 4 "DoD"
bash skills/dev/scripts/track.sh step 5 "Code"
bash skills/dev/scripts/track.sh step 6 "Test"
bash skills/dev/scripts/track.sh step 7 "Quality"
bash skills/dev/scripts/track.sh step 8 "PR"
bash skills/dev/scripts/track.sh step 9 "CI"
bash skills/dev/scripts/track.sh step 10 "Learning"
bash skills/dev/scripts/track.sh step 11 "Cleanup"

# å®Œæˆæ—¶
bash skills/dev/scripts/track.sh done "$PR_URL"

# å¤±è´¥æ—¶
bash skills/dev/scripts/track.sh fail "Error message"
```

è¿½è¸ªæ–‡ä»¶ `.cecelia-run-id` è‡ªåŠ¨ç®¡ç†ï¼ŒCore æ˜¯ä¸»æ•°æ®æºï¼ŒNotion æ˜¯é•œåƒã€‚

---

## å¤š Feature æ”¯æŒï¼ˆå¯é€‰ï¼‰

### ä½¿ç”¨åœºæ™¯

- **ç®€å•ä»»åŠ¡**ï¼šå½“å‰å• PR æµç¨‹ï¼ˆè‡ªåŠ¨åˆ¤æ–­ï¼‰
- **å¤æ‚ä»»åŠ¡**ï¼šå¤§ PRD â†’ æ‹†åˆ† N ä¸ª Features â†’ N ä¸ª PR

### çŠ¶æ€æ–‡ä»¶

`.claude/multi-feature-state.local.md` è®°å½•è¿›åº¦ï¼š

```yaml
---
features:
  - id: 1
    title: "ç”¨æˆ·ç™»å½•åŸºç¡€åŠŸèƒ½"
    status: completed
    pr: "#123"
    branch: "cp-01240101-login-basic"
    feedback: "ç™»å½•æˆåŠŸï¼Œä½†é”™è¯¯æç¤ºä¸å¤Ÿå‹å¥½"

  - id: 2
    title: "ä¼˜åŒ–ç™»å½•é”™è¯¯æç¤º"
    status: in_progress
    branch: "cp-01240102-login-errors"

  - id: 3
    title: "æ·»åŠ è®°ä½æˆ‘åŠŸèƒ½"
    status: pending
---

## Feature 1: ç”¨æˆ·ç™»å½•åŸºç¡€åŠŸèƒ½ âœ…

**Branch**: cp-01240101-login-basic
**PR**: #123
**Status**: Merged to develop

**åé¦ˆ**ï¼š
- ç™»å½•æˆåŠŸ
- é”™è¯¯æç¤ºä¸å¤Ÿå‹å¥½ â†’ Feature 2 å¤„ç†

## Feature 2: ä¼˜åŒ–ç™»å½•é”™è¯¯æç¤º ğŸš§

**Branch**: cp-01240102-login-errors
**Status**: In Progress

**åŸºäº Feature 1 åé¦ˆ**ï¼š
- æ”¹è¿›é”™è¯¯æ¶ˆæ¯æ–‡æ¡ˆ
- æ·»åŠ é”™è¯¯ç±»å‹åŒºåˆ†

## Feature 3: æ·»åŠ è®°ä½æˆ‘åŠŸèƒ½ â³

**Status**: Pending
**ä¾èµ–**: Feature 2 å®Œæˆ
```

### ç»§ç»­å‘½ä»¤

Feature N å®Œæˆåï¼Œè¿è¡Œï¼š

```bash
/dev continue
```

/dev è‡ªåŠ¨ï¼š
1. è¯»å–çŠ¶æ€æ–‡ä»¶æ‰¾åˆ°ä¸‹ä¸€ä¸ª pending feature
2. æ‹‰å–æœ€æ–° developï¼ˆåŒ…å«å‰é¢ features çš„ä»£ç ï¼‰
3. åˆ›å»ºæ–°åˆ†æ”¯å¼€å§‹ä¸‹ä¸€ä¸ª feature
4. å¼•ç”¨ä¸Šä¸€ä¸ª feature çš„åé¦ˆ

### å‘åå…¼å®¹

ç®€å•ä»»åŠ¡ä»èµ°å• PR æµç¨‹ï¼Œ/dev è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦éœ€è¦æ‹†åˆ†ã€‚

---

## å®Œæˆåº¦æ£€æŸ¥

**Cleanup åè¿è¡Œ**ï¼š

```bash
bash skills/dev/scripts/check.sh "$BRANCH_NAME" "$BASE_BRANCH"
```
